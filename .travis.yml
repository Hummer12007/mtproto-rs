language: rust

rust:
  - 1.27.2
  - stable
  - beta
  - nightly

matrix:
  allow_failures:
    - rust: nightly

cache: cargo

env:
  global:
    - RUST_BACKTRACE=1
    - RUST_LOG=build_script_build=debug

script:
  - pwd
  - ls -la
  - cargo test -vv --all
  - cargo build -vv --all --examples
  - cargo test -vv --features openssl --all
  - cargo build -vv --features openssl --all --examples
  - cargo test -vv --no-default-features --features openssl --all
  - cargo build -vv --no-default-features --features openssl --all --examples
